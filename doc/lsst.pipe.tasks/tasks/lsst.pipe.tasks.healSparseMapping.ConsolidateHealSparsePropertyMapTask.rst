.. lsst-task-topic:: lsst.pipe.tasks.healSparseMapping.ConsolidateHealSparsePropertyMapTask

####################################
ConsolidateHealSparsePropertyMapTask
####################################

``ConsolidateHealSparsePropertyMapTask`` consolidates a set of survey-wide survey property maps in the `healsparse <https://healsparse.readthedocs.io/en/stable>`_ format.
One map is created per map type per band.

This task is to be run after :doc:`lsst.pipe.tasks.healSparseMapping.HealSparsePropertyMapTask` has been run on all tracts.
The configuration for ``property_maps`` in ``ConsolidateHealSparsePropertyMapConfig`` must be the same as that used for the ``HealSparsePropertyMapTask`` and enforced by default when the pipetask quantum graph is generated.

In the creation of the survey-wide survey property maps, each individual tract map is truncated to its inner region before consolidation.
In this way, the property maps generated by this task match any consolidated object tables that retain only primary objects.

.. _lsst.pipe.tasks.healSparseMapping.ConsolidateHealSparsePropertyMapTask-api:

Python API summary
==================

.. lsst-task-api-summary:: lsst.pipe.tasks.healSparseMapping.ConsolidateHealSparsePropertyMapTask

.. _lsst.pipe.tasks.healSparseMapping.ConsolidateHealSparsePropertyMapTask-subtasks:

Configuration fields
====================

.. lsst-task-config-fields:: lsst.pipe.tasks.healSparseMapping.ConsolidateHealSparsePropertyMapTask
